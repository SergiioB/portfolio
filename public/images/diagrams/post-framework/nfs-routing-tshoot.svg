<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700" role="img" aria-label="NFS Routing Troubleshooting Connectivity Failure">
  <!-- Background -->
  <rect width="1200" height="700" fill="#0b1020" rx="20"/>

  <!-- Subtle Data Visualization Grid -->
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1e293b" stroke-width="0.5"/>
    </pattern>
    <linearGradient id="prodGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#3b82f6" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#2563eb" stop-opacity="0.2" />
    </linearGradient>
    <linearGradient id="backupGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#a855f7" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#9333ea" stop-opacity="0.2" />
    </linearGradient>
    <marker id="arrowHeadProd" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#3b82f6" />
    </marker>
    <marker id="arrowHeadBackup" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#a855f7" />
    </marker>
    <filter id="glow-error" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="8" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
  </defs>

  <!-- Grid overlay -->
  <rect x="50" y="150" width="1100" height="500" fill="url(#grid)" />
  
  <!-- Title -->
  <text x="60" y="80" fill="#f8fafc" font-size="32" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold">Multi-Homed NFS Routing Mismatch</text>
  <text x="60" y="115" fill="#94a3b8" font-size="18" font-family="Segoe UI, Inter, Arial, sans-serif">Why dynamic DNS resolution across disjointed networks triggers RPC access denials.</text>

  <!-- Client VM Context -->
  <g transform="translate(100, 250)">
    <rect x="0" y="0" width="300" height="260" rx="12" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="150" y="35" fill="#e2e8f0" font-size="20" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">CLIENT VM</text>
    <text x="150" y="55" fill="#94a3b8" font-size="14" font-family="Consolas, monospace" text-anchor="middle">hostname: host-example-01</text>

    <path d="M 40 70 L 260 70" fill="none" stroke="#1e293b" stroke-width="2"/>

    <!-- Interface 1: Prod -->
    <rect x="30" y="100" width="240" height="60" rx="6" fill="#172554" stroke="#3b82f6" stroke-width="1"/>
    <text x="150" y="125" fill="#93c5fd" font-size="15" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Production Interface (eth0)</text>
    <text x="150" y="145" fill="#bfdbfe" font-size="13" font-family="Consolas, monospace" text-anchor="middle">IP: 192.0.2.102</text>

    <!-- Interface 2: Backup -->
    <rect x="30" y="180" width="240" height="60" rx="6" fill="#2e1065" stroke="#a855f7" stroke-width="1"/>
    <text x="150" y="205" fill="#d8b4fe" font-size="15" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Backup Interface (eth1)</text>
    <text x="150" y="225" fill="#e9d5ff" font-size="13" font-family="Consolas, monospace" text-anchor="middle">IP: 198.51.100.8</text>
  </g>

  <!-- Network Traffic Paths -->
  <!-- Traffic over Production -->
  <path d="M 400 380 L 800 380" fill="none" stroke="#3b82f6" stroke-width="5" stroke-dasharray="10 5" marker-end="url(#arrowHeadProd)"/>
  <text x="600" y="370" fill="#3b82f6" font-size="15" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Actual Mount Traffic Engine</text>
  <text x="600" y="400" fill="#be123c" font-size="14" font-family="Consolas, monospace" font-weight="bold" text-anchor="middle">SOURCE_IP = 192.0.2.102</text>

  <!-- DNS Resolution -->
  <path d="M 800 460 Q 600 520 400 460" fill="none" stroke="#a855f7" stroke-width="3" stroke-dasharray="6 4" marker-end="url(#arrowHeadBackup)"/>
  <text x="600" y="500" fill="#a855f7" font-size="14" font-family="Segoe UI, Inter, Arial, sans-serif" font-style="italic" text-anchor="middle">DNS lookup for 'host-example-01'</text>
  <text x="600" y="520" fill="#e9d5ff" font-size="13" font-family="Consolas, monospace" text-anchor="middle">Returns: 198.51.100.8</text>


  <!-- Server Side Conext -->
  <g transform="translate(800, 250)">
    <rect x="0" y="0" width="300" height="260" rx="12" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="150" y="35" fill="#e2e8f0" font-size="20" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">NFS STORAGE SERVER</text>
    
    <path d="M 40 70 L 260 70" fill="none" stroke="#1e293b" stroke-width="2"/>

    <!-- Export config box -->
    <rect x="30" y="100" width="240" height="135" rx="6" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="150" y="125" fill="#f8fafc" font-size="14" font-family="Consolas, monospace" font-weight="bold" text-anchor="middle">/etc/exports</text>
    
    <!-- Old Wrong Rule -->
    <g opacity="0.6">
      <text x="45" y="150" fill="#fca5a5" font-size="13" font-family="Consolas, monospace" text-decoration="line-through">/srv/app_share</text>
      <text x="55" y="165" fill="#fca5a5" font-size="13" font-family="Consolas, monospace" text-decoration="line-through">host-example-01(rw...)</text>
    </g>

    <!-- New Fixed Rule -->
    <text x="45" y="200" fill="#86efac" font-size="13" font-family="Consolas, monospace">/srv/app_share</text>
    <text x="55" y="215" fill="#86efac" font-size="13" font-family="Consolas, monospace">192.0.2.102(rw...)</text>
  </g>

  <!-- Error Alert / Failure Mode indicator -->
  <g transform="translate(680, 290)">
    <rect x="0" y="0" width="240" height="40" rx="4" fill="#7f1d1d" filter="url(#glow-error)"/>
    <rect x="0" y="0" width="240" height="40" rx="4" fill="#450a0a" stroke="#ef4444" stroke-width="1"/>
    <text x="120" y="25" fill="#fca5a5" font-size="13" font-family="Consolas, monospace" font-weight="bold" text-anchor="middle">"mount.nfs4: access denied"</text>
  </g>
  <line x1="660" y1="310" x2="680" y2="310" stroke="#ef4444" stroke-width="2" />
  
  <!-- Diagnostic Summary Box -->
  <rect x="80" y="580" width="1040" height="60" rx="8" fill="#111827" stroke="#334155" stroke-width="1"/>
  <text x="120" y="615" fill="#22c55e" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold">Resolution Pattern:</text>
  <text x="300" y="615" fill="#cbd5e1" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif">Bypass volatile hostname resolution and rigidly bind the export to the dedicated Production IP overlay.</text>

</svg>