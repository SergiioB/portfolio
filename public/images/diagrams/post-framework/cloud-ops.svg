<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700" role="img" aria-label="IntelliFlow Cloud Operations Architecture">
  <!-- Background -->
  <rect width="1200" height="700" fill="#0b1020" rx="20"/>
  
  <!-- Subtle Grid Background for scientific feel -->
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1e293b" stroke-width="0.5"/>
    </pattern>
    <linearGradient id="glow" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3b82f6" stop-opacity="0.2" />
      <stop offset="100%" stop-color="#8b5cf6" stop-opacity="0.2" />
    </linearGradient>
  </defs>
  <rect width="1200" height="700" fill="url(#grid)" />
  
  <!-- Title -->
  <text x="60" y="80" fill="#f8fafc" font-size="32" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold">IntelliFlow Infrastructure Architecture</text>
  <text x="60" y="115" fill="#94a3b8" font-size="18" font-family="Segoe UI, Inter, Arial, sans-serif">Secure, scalable Google Cloud setup with strictly enforced IAM policies.</text>

  <!-- Observability Wrapper -->
  <rect x="50" y="150" width="1100" height="500" rx="16" fill="url(#glow)" stroke="#334155" stroke-width="2" stroke-dasharray="8 8"/>
  <rect x="50" y="150" width="1100" height="40" fill="#1e293b" rx="16" />
  <rect x="50" y="170" width="1100" height="20" fill="#1e293b" /> <!-- square bottom corners for header -->
  <text x="80" y="176" fill="#fca5a5" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" letter-spacing="1">OBSERVABILITY &amp; MONITORING LAYER</text>
  <circle cx="1110" cy="170" r="6" fill="#ef4444" />

  <!-- Application Layer -->
  <g transform="translate(100, 300)">
    <rect x="0" y="0" width="220" height="140" rx="12" fill="#0f172a" stroke="#64748b" stroke-width="2"/>
    <rect x="0" y="0" width="220" height="40" fill="#1e293b" rx="12" />
    <rect x="0" y="20" width="220" height="20" fill="#1e293b" /> 
    <text x="20" y="26" fill="#e2e8f0" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="600">Client / Edge</text>
    <circle cx="110" cy="80" r="24" fill="#38bdf8" fill-opacity="0.1" stroke="#38bdf8" stroke-width="2"/>
    <path d="M 103 70 h 14 v 20 h -14 z" fill="#38bdf8" /> <!-- Stylized App Icon -->
    <path d="M 106 66 h 8 v 4 h -8 z" fill="#38bdf8" />
    <text x="110" y="125" fill="#bae6fd" font-size="14" font-family="Segoe UI, Inter, Arial, sans-serif" text-anchor="middle">Android App</text>
  </g>

  <!-- Connection: App to Security Gateway -->
  <path d="M 320 370 L 410 370" fill="none" stroke="#64748b" stroke-width="3" stroke-dasharray="5 5" marker-end="url(#arrowhead)"/>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
    <marker id="arrowhead-secure" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981" />
    </marker>
  </defs>

  <!-- Security Gateway / IAM -->
  <g transform="translate(420, 260)">
    <!-- Fake glow for backward compatibility -->
    <rect x="-4" y="-4" width="68" height="228" rx="10" fill="none" stroke="#10b981" stroke-width="8" stroke-opacity="0.2" />
    <rect x="0" y="0" width="60" height="220" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="2" />
    <text x="-110" y="36" text-anchor="middle" transform="rotate(-90)" fill="#a7f3d0" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" letter-spacing="2">IAM / PAM POLICIES</text>
  </g>

  <!-- Connection: Security to Compute Compute -->
  <path d="M 480 330 L 590 330" fill="none" stroke="#10b981" stroke-width="3" marker-end="url(#arrowhead-secure)"/>
  <path d="M 480 410 L 590 410" fill="none" stroke="#10b981" stroke-width="3" marker-end="url(#arrowhead-secure)"/>
  
  <text x="500" y="320" fill="#10b981" font-size="12" font-family="Consolas, monospace">Validation</text>
  <text x="500" y="400" fill="#10b981" font-size="12" font-family="Consolas, monospace">Access Ctrl</text>

  <!-- Compute Layer (Cloud Functions) -->
  <g transform="translate(600, 240)">
    <rect x="0" y="0" width="220" height="260" rx="12" fill="#0f172a" stroke="#8b5cf6" stroke-width="2"/>
    <rect x="0" y="0" width="220" height="40" fill="#4c1d95" rx="12" />
    <rect x="0" y="20" width="220" height="20" fill="#4c1d95" /> 
    <text x="20" y="26" fill="#f3e8ff" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="600">Compute Layer</text>

    <!-- Function 1 -->
    <rect x="20" y="70" width="180" height="50" rx="6" fill="#1e1b4b" stroke="#7c3aed" stroke-width="1.5"/>
    <circle cx="45" cy="95" r="12" fill="#8b5cf6" fill-opacity="0.2"/>
    <text x="40" y="100" fill="#d8b4fe" font-size="14" font-family="Consolas, monospace">λ</text>
    <text x="70" y="100" fill="#e9d5ff" font-size="14" font-family="Segoe UI, Inter, Arial, sans-serif">Business Logic</text>

    <!-- Function 2 -->
    <rect x="20" y="135" width="180" height="50" rx="6" fill="#1e1b4b" stroke="#7c3aed" stroke-width="1.5"/>
    <circle cx="45" cy="160" r="12" fill="#8b5cf6" fill-opacity="0.2"/>
    <text x="40" y="165" fill="#d8b4fe" font-size="14" font-family="Consolas, monospace">λ</text>
    <text x="70" y="165" fill="#e9d5ff" font-size="14" font-family="Segoe UI, Inter, Arial, sans-serif">Payment Validation</text>
    
    <!-- Function 3 -->
    <rect x="20" y="200" width="180" height="40" rx="6" fill="#1e1b4b" stroke="#7c3aed" stroke-width="1.5"/>
    <circle cx="45" cy="220" r="10" fill="#8b5cf6" fill-opacity="0.2"/>
    <text x="40" y="225" fill="#d8b4fe" font-size="12" font-family="Consolas, monospace">λ</text>
    <text x="70" y="225" fill="#e9d5ff" font-size="13" font-family="Segoe UI, Inter, Arial, sans-serif">AI Categorization</text>
  </g>

  <!-- Connection: Compute to Data -->
  <path d="M 820 370 L 920 370" fill="none" stroke="#6366f1" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="835" y="360" fill="#818cf8" font-size="12" font-family="Consolas, monospace">Strict I/O</text>

  <!-- Data Layer (Firestore) -->
  <g transform="translate(930, 300)">
    <rect x="0" y="0" width="180" height="140" rx="12" fill="#0f172a" stroke="#fbbf24" stroke-width="2"/>
    <rect x="0" y="0" width="180" height="40" fill="#b45309" rx="12" />
    <rect x="0" y="20" width="180" height="20" fill="#b45309" /> 
    <text x="20" y="26" fill="#fef3c7" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="600">Data Storage</text>
    
    <!-- Database Icon -->
    <ellipse cx="90" cy="80" rx="40" ry="12" fill="none" stroke="#fbbf24" stroke-width="2"/>
    <ellipse cx="90" cy="95" rx="40" ry="12" fill="none" stroke="#fbbf24" stroke-width="2"/>
    <ellipse cx="90" cy="110" rx="40" ry="12" fill="none" stroke="#fbbf24" stroke-width="2"/>
    <path d="M 50 80 L 50 110 M 130 80 L 130 110" fill="none" stroke="#fbbf24" stroke-width="2"/>
    
    <text x="90" y="155" fill="#fde68a" font-size="14" font-family="Segoe UI, Inter, Arial, sans-serif" text-anchor="middle">Firestore DB</text>
  </g>

  <!-- Legend / Stats at the bottom -->
  <rect x="100" y="550" width="1000" height="70" rx="8" fill="#1e293b" stroke="#334155"/>
  <text x="130" y="590" fill="#e2e8f0" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif">Cloud Ops Telemetry:</text>
  
  <text x="320" y="590" fill="#10b981" font-size="16" font-family="Consolas, monospace">Latency: &lt;50ms</text>
  <text x="500" y="590" fill="#fbbf24" font-size="16" font-family="Consolas, monospace">Availability: 99.99%</text>
  <text x="740" y="590" fill="#fca5a5" font-size="16" font-family="Consolas, monospace">Security Block Rate: 0.01%</text>

</svg>
