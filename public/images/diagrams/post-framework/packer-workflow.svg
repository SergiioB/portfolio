<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700" role="img" aria-label="Packer Golden Image Build Workflow">
  <!-- Background -->
  <rect width="1200" height="700" fill="#0b1020" rx="20"/>

  <!-- Subtle Data Visualization Grid -->
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1e293b" stroke-width="0.5"/>
    </pattern>
    <linearGradient id="glowSlate" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#475569" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#334155" stop-opacity="0.2" />
    </linearGradient>
    <linearGradient id="glowGold" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#eab308" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#a16207" stop-opacity="0.2" />
    </linearGradient>
    <linearGradient id="glowRed" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ef4444" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#991b1b" stop-opacity="0.2" />
    </linearGradient>
    <filter id="glow-filter-gold" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="8" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
    <marker id="arrowHead" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Grid overlay -->
  <rect x="50" y="150" width="1100" height="500" fill="url(#grid)" />
  
  <!-- Title -->
  <text x="60" y="80" fill="#f8fafc" font-size="32" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold">Golden Image Pipeline: Packer &amp; StackGuardian</text>
  <text x="60" y="115" fill="#94a3b8" font-size="18" font-family="Segoe UI, Inter, Arial, sans-serif">Automated, repeatable CI/CD provisioning for CIS-hardened enterprise templates.</text>

  <!-- Section: VCS / Git -->
  <g transform="translate(100, 260)">
    <rect x="0" y="0" width="220" height="180" rx="10" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="110" y="30" fill="#e2e8f0" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Azure DevOps (Git)</text>
    <path d="M 60 55 L 160 55" fill="none" stroke="#475569" stroke-width="1"/>
    
    <rect x="25" y="75" width="170" height="30" rx="4" fill="#1e293b"/>
    <text x="110" y="95" fill="#f8fafc" font-size="13" font-family="Consolas, monospace" text-anchor="middle">packer/base.hcl</text>
    
    <rect x="25" y="125" width="170" height="30" rx="4" fill="#1e293b"/>
    <text x="110" y="145" fill="#f8fafc" font-size="13" font-family="Consolas, monospace" text-anchor="middle">ansible/cis-role</text>
  </g>

  <!-- Arrow to CI/CD -->
  <path d="M 320 350 L 440 350" fill="none" stroke="#94a3b8" stroke-width="3" stroke-dasharray="6 4" marker-end="url(#arrowHead)"/>
  <text x="380" y="340" fill="#94a3b8" font-size="13" font-family="Segoe UI, Inter, Arial, sans-serif" text-anchor="middle">Webhook Push</text>


  <!-- Section: StackGuardian Runner -->
  <g transform="translate(460, 200)">
    <rect x="0" y="0" width="280" height="300" rx="10" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <rect x="0" y="0" width="280" height="40" rx="10" fill="#1e1b4b" stroke="#334155" stroke-width="0"/>
    <text x="140" y="26" fill="#818cf8" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">StackGuardian Runner</text>
    
    <!-- Step 1: Base Build -->
    <rect x="20" y="70" width="240" height="80" rx="6" fill="#022c22" stroke="#10b981" stroke-width="1"/>
    <text x="140" y="95" fill="#a7f3d0" font-size="15" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Phase 1: Base Image</text>
    <text x="140" y="115" fill="#d1fae5" font-size="12" font-family="Consolas, monospace" text-anchor="middle">builder: vsphere-iso</text>
    <text x="140" y="135" fill="#6ee7b7" font-size="12" font-family="Consolas, monospace" text-anchor="middle">kickstart OS install + LVM</text>

    <!-- Arrow between phases -->
    <path d="M 140 150 L 140 190" fill="none" stroke="#475569" stroke-width="2" marker-end="url(#arrowHead)"/>

    <!-- Step 2: Common Build -->
    <rect x="20" y="200" width="240" height="80" rx="6" fill="#422006" stroke="#f59e0b" stroke-width="1" filter="url(#glow-filter-gold)"/>
    <rect x="20" y="200" width="240" height="80" rx="6" fill="#291A00" stroke="#f59e0b" stroke-width="1"/>
    <text x="140" y="225" fill="#fde68a" font-size="15" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Phase 2: Common Image</text>
    <text x="140" y="245" fill="#fef3c7" font-size="12" font-family="Consolas, monospace" text-anchor="middle">builder: vsphere-clone</text>
    <text x="140" y="265" fill="#fcd34d" font-size="12" font-family="Consolas, monospace" text-anchor="middle">ansible: CIS + Agents</text>
  </g>

  <!-- Arrow to vCenter -->
  <path d="M 740 350 L 860 350" fill="none" stroke="#fcd34d" stroke-width="3" stroke-dasharray="6 4" marker-end="url(#arrowHead)"/>
  <text x="800" y="340" fill="#fcd34d" font-size="13" font-family="Segoe UI, Inter, Arial, sans-serif" text-anchor="middle">Export Template</text>

  <!-- Section: Target vCenter -->
  <g transform="translate(880, 260)">
    <rect x="0" y="0" width="220" height="180" rx="10" fill="#0f172a" stroke="#334155" stroke-width="2"/>
    <text x="110" y="30" fill="#e2e8f0" font-size="16" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">vSphere / vCenter</text>
    <path d="M 60 55 L 160 55" fill="none" stroke="#475569" stroke-width="1"/>
    
    <rect x="25" y="75" width="170" height="30" rx="4" fill="#064e3b" stroke="#10b981" stroke-width="1"/>
    <text x="110" y="95" fill="#d1fae5" font-size="13" font-family="Consolas, monospace" text-anchor="middle">RHEL9-Base-02</text>
    
    <rect x="25" y="125" width="170" height="30" rx="4" fill="#422006" stroke="#f59e0b" stroke-width="1"/>
    <text x="110" y="145" fill="#fef3c7" font-size="13" font-family="Consolas, monospace" text-anchor="middle">RHEL9-Common-GOLD</text>
  </g>

  <!-- Vault secrets -->
  <path d="M 600 500 L 600 550" fill="none" stroke="#6366f1" stroke-width="2" stroke-dasharray="4 2"/>
  <rect x="520" y="550" width="160" height="50" rx="6" fill="#1e1b4b" stroke="#6366f1" stroke-width="1"/>
  <text x="600" y="580" fill="#a5b4fc" font-size="13" font-family="Segoe UI, Inter, Arial, sans-serif" font-weight="bold" text-anchor="middle">Secure Vault</text>
  <text x="600" y="540" fill="#818cf8" font-size="12" font-family="Consolas, monospace" font-style="italic" text-anchor="middle">vCenter credentials</text>

</svg>